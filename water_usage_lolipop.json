{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Lollipop chart representing water consumption per capita across Australian states and territories.",
    "data": {
      "url": "data/water_usage_per_capita 2.csv"
    },
    "width": 550,
    "height": 350,
    "layer": [
      {
        "mark": {
          "type": "rule",
          "color": "orange"
        },
        "encoding": {
          "x": {
            "field": "State or Territory",
            "type": "nominal",
            "axis": {
              "title": "State",
              "labelAngle": 0,
              "titleFontSize": 15,
              "labelFontSize": 10,
              "titlePadding": 10
            },
            "sort": ["South Australia", "Queensland", "ACT", "Northern Territory", "Tasmania", "Victoria", "Western Australia", "NSW"]
          },
          "y": {
            "field": "Water Consumption (Megaliters per capita)",
            "type": "quantitative",
            "scale": {
              "domain": [0, 0.9]
            },
            "axis":{
              "titleFontSize": 15,
              "labelFontSize": 12,
              "titlePadding": 20
            }
          }
        }
      },
      {
        "mark": {
          "type": "circle",
          "color": "orange",
          "size": 100
        },
        "encoding": {
          "x": {
            "field": "State or Territory",
            "type": "nominal"
          },
          "y": {
            "field": "Water Consumption (Megaliters per capita)",
            "type": "quantitative"
          },
          "tooltip": [
            {"field": "State or Territory", "type": "nominal", "title": "State"},
            {"field": "Water Consumption (Megaliters per capita)", "type": "quantitative", "title": "Water Consumption (mL per capita)"}
          ]
        }
      },
      {
        "mark": {
          "type": "text",
          "align": "center",
          "baseline": "bottom",
          "dy": -10,  
          "fontSize": 12,
          "color": "black"
        },
        "encoding": {
          "x": {
            "field": "State or Territory",
            "type": "nominal"
          },
          "y": {
            "field": "Water Consumption (Megaliters per capita)",
            "type": "quantitative"
          },
          "text": {
            "field": "Water Consumption (Megaliters per capita)",
            "type": "quantitative",
            "format": ".2f"  
          }
        }
      }
    ],
    "encoding": {
      "color": {
        "field": "State or Territory",
        "type": "nominal",
        "scale": {
          "domain": ["South Australia", "Queensland", "ACT", "Northern Territory", "Tasmania", "Victoria", "Western Australia", "NSW"],
          "range": ["#5778a4", "#e49444", "#d1615d", "#85b6b2", "#6a9f58", "#e7ca60", "#a87c9f", "#f1a2a9"]
        },
        "legend": {
          "title": "State or Territory",
          "labelExpr": "datum.value === 'NSW' ? 'New South Wales' : datum.value === 'ACT' ? 'Australian Capital Territory' : datum.value",
          "titleFontSize": 12,
          "labelFontSize": 10
        }
      }
    }
  }
  